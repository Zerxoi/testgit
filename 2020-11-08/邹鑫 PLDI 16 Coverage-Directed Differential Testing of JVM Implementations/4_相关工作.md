# 相关工作

我们讨论了相关工作的四个方面：（1）定向随机测试，（2）基于变异的模糊测试，（3）JVM测试以及（4）用于测试的MCMC采样。

**定向随机测试** Godefroid，Klarlund和Sen引入了*DART*，这是一种将具体和符号执行交织在一起的定向随机测试方法。DART对被测程序进行随机测试，分析程序在随机测试下的表现，然后自动生成新的测试输入，引导程序沿着其他程序路径执行。Godefroid、Levin和Molnar提出了另一个白盒模糊测试的想法。该方法记录了程序的执行轨迹，并生成约束条件，以捕获程序如何使用其输入。 生成的约束用于产生新的输入，指导程序遵循不同的控制路径。

尽管遵循相同的一般思路来搜索不同的控制路径，但classfuzz与DART和whitebox模糊测试不同之处在于，它通过覆盖范围而不是符号执行和约束求解来指导测试生成。因此，它更简单并且更普遍适用，同时研究这些技术的有效组合将是有趣的未来工作。

Chen等人测量了测试输入之间的相似性，并将从一大堆随机的、触发失败的测试用例中选择不同的、有趣的测试输入的问题描述为一个模糊控制问题。然而，驯服模糊程序依赖于初始测试集的质量。测试类文件之间的相似性也与它们暴露JVM差异的能力没有很大关系。相比之下，classfuzz提倡生成高质量的测试输入，而不是选择测试输入。

**基于变异的模糊测试**  模糊测试是生成用于测试复杂软件系统的测试输入的通用方法。 但是，如Evaluation部分所述，无法将开源的模糊测试工具直接与classfuzz进行比较，因为最新的模糊测试工具无法直接生成测试类文件。KEmuFuzzer是一种测试系统虚拟机(如BOCHS, QEMU, VirtualBox和VMware)的方法，基于协议特定的模糊和差异分析，包括强制虚拟机执行特殊编写的代码片段，并比较它们的行为。

模糊测试也已被用来查找与系统调用，安全协议，语言编译器和解释器有关的问题。LangFuzz提供了一个用于突变种子程序和测试的通用框架：测试程序是通过将种子程序的代码片段替换为源于已知导致无效行为的程序的代码片段而生成的。 Classfuzz的不同之处在于，它（1）生成用于差异JVM测试的更多“代表性”类文件，以及（2）有选择地应用变异器。

Le等人已经提出了验证编译器的等效模输入(EMI)方法，其中程序的EMI变体可以通过分析程序的执行和随机地修剪其未执行代码来生成。EMI可能适于产生可执行的测试程序（这对于寻找JVM执行差异的探索是很有趣的），但它不能产生各种类文件来测试JVM的启动（即初始化/链接/加载）。

特定领域的模糊测试也已适应于应用程序VM。Sirer和Bershad提倡一种早期的想法，即通过在基类文件中的随机偏移处放置一个单字节的值更改来生成测试类文件。Kyle等人随机更改Dex字节码，以揭示Android VM中的缺陷。这些模糊测试技术与我们的评估部分中设计的randfuzz相似，而评估结果清楚地表明，定向方法比非定向方法更有效地揭示JVM差异。

**JVM测试**  JVM需要在发布之前进行测试。 Oracle提供了广泛的测试套件，即Java兼容性工具包（JCK），以认证Java平台的兼容实现。然而，JCK的目的不是利用任何已发布的、兼容的JVM中的缺陷。

Sirer和Bershad提出了lava，这是一种用于生成代码生成器的领域特定语言。 在种子类文件上运行代码生成器会产生许多类文件。吉川，志村和小泽设计了一种生成器，该生成器通过生成其控制流来生成类文件，然后将字节码填充到控制流边缘中。由于类文件可以包含复杂的语法和语义约束，因此生成器通常会生成简单的类文件。 相反，classfuzz迭代地更改种子类文件，从而允许生成结构复杂的类文件。

已经开发了用于JVM测试的正式模型。 Calvagna，Fornaia和Tramontana将JVM建模为用于导出测试类文件的有限状态机。他们还为Java Card字节码语法和语义规则定义了一个正式模型，可以从中导出测试程序来测试字节码验证程序的安全性。 相反，classfuzz不依赖任何正式模型来进行JVM测试，因为它需要花费大量精力从非正式JVM规范中得出精确模型。

**MCMC采样进行测试**  Zhou，Okamura和Dohi提出了一种MCMC随机测试（MCMCRT）方法，该方法利用先前的知识和先前的测试结果信息来估计软件测试的参数。但是，MCMCRT主要生成数字测试输入，而不是结构化输入。

Le等人已将MCMC采样应用于EMI，以探索寻找深度编译器bug的搜索空间，其中计算程序距离，MCMC采样器更经常绘制具有较大程序距离的测试程序。Chen和Su提出了mucert，这是一种使用MCMC采样来多样化一组用于测试SSL/TLS实现的种子证书的方法。与mucert相比，classfuzz最早利用MCMC采样有选择地应用mutators并找到有代表性的测试。